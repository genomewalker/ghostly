<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ghostly â€” Persistent SSH Sessions from Your Menu Bar</title>
<link rel="canonical" href="https://genomewalker.github.io/ghostly/">
<meta name="description" content="A macOS menu bar app for managing persistent SSH sessions. Auto-installs on remote hosts, supports Ghostty, iTerm2, and Terminal.app.">
<link rel="icon" type="image/png" href="icon-32.png">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Header -->
<header>
  <div class="container">
    <a class="header-logo" href="index.html">
      <img src="icon-32.png" alt="Ghostly" width="20" height="20" style="border-radius:4px;">
      <span>ghostly</span>
    </a>
    <nav>
      <a href="guide.html">Guide</a>
      <a href="cli.html">CLI</a>
      <a href="examples.html">Examples</a>
      <a href="architecture.html">Architecture</a>
      <a href="https://github.com/genomewalker/ghostly">GitHub</a>
    </nav>
  </div>
</header>

<!-- Hero -->
<section class="hero" id="top">
  <div class="container">
    <div class="fade-in">
      <img src="icon.png" alt="Ghostly" width="96" height="96" style="display:block;margin:0 auto 24px;border-radius:20px;">
      <h1>Ghostly</h1>
      <p class="tagline">Persistent SSH sessions from your <span>menu bar</span></p>
    </div>

    <div class="fade-in" id="install" style="transition-delay: 0.15s;">
      <div class="install-box">
        <div class="install-cmd" id="installCmd">curl -sSL https://raw.githubusercontent.com/genomewalker/ghostly/main/install.sh | bash</div>
        <button class="install-copy" onclick="copyInstall()" id="copyBtn" aria-label="Copy install command">copy</button>
      </div>
      <p class="install-note">Installs <code>ghostly-session</code> to <code>~/.local/bin</code> &mdash; requires a C++ compiler</p>
    </div>
  </div>
</section>

<!-- Features -->
<section id="features">
  <div class="container">
    <div class="fade-in">
      <div class="section-label">// features</div>
      <h2 class="section-title">Everything you need, nothing you don't</h2>
    </div>

    <div class="features-grid fade-in" style="transition-delay: 0.1s;">
      <div class="feature-card">
        <div class="feature-icon">&#9654; MENU_BAR</div>
        <h3>Always accessible</h3>
        <p>Lives in your macOS menu bar. One click to see all your hosts, sessions, and system info.</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">&#9654; AUTO_INSTALL</div>
        <h3>Zero setup on remotes</h3>
        <p>Compiles from a single C++ source file on any host. Works with GCC 4.8+ &mdash; even old HPC clusters.</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">&#9654; MULTI_TERMINAL</div>
        <h3>Your terminal, your way</h3>
        <p>Ghostty, iTerm2, or Terminal.app. New window, new tab, or split pane. Option+click, Shift+click.</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">&#9654; PERSISTENCE</div>
        <h3>Sessions that survive</h3>
        <p>Disconnect your laptop, change networks, close the lid. Your sessions are still there when you come back.</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">&#9654; SMART_FALLBACK</div>
        <h3>Graceful degradation</h3>
        <p>Prefers ghostly-session. Falls back to tmux or screen if available. Plain SSH as last resort.</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">&#9654; SYSTEM_INFO</div>
        <h3>Know your remotes</h3>
        <p>CPU load, disk usage, conda environments, SLURM job count. All visible at a glance in the menu bar.</p>
      </div>
    </div>
  </div>
</section>

<!-- Architecture -->
<section class="arch-section" id="architecture">
  <div class="container">
    <div class="fade-in">
      <div class="section-label">// architecture</div>
      <h2 class="section-title">How it works</h2>
    </div>

    <div class="arch-diagram fade-in" style="transition-delay: 0.1s;">
      <div class="arch-flow">
        <div class="arch-node">Ghostly.app</div>
        <div class="arch-arrow">&rarr; ssh &rarr;</div>
        <div class="arch-node highlight">ghostly-session</div>
        <div class="arch-arrow">&rarr; pty &rarr;</div>
        <div class="arch-node">bash -l</div>
      </div>
    </div>

    <div class="arch-details fade-in" style="transition-delay: 0.2s;">
      <div class="arch-detail">
        <div class="arch-detail-label">Transport</div>
        <p>Unix domain sockets at <code style="color:var(--text-bright)">/tmp/ghostly-&lt;UID&gt;/</code>. NFS-safe, auto-cleaned on reboot.</p>
      </div>
      <div class="arch-detail">
        <div class="arch-detail-label">Protocol</div>
        <p>5-byte framed: <code style="color:var(--text-bright)">[1B type][4B length][payload]</code>. DATA, WINCH, DETACH, EXIT, HELLO.</p>
      </div>
      <div class="arch-detail">
        <div class="arch-detail-label">Event loop</div>
        <p>Single-threaded <code style="color:var(--text-bright)">poll()</code> &mdash; fully event-driven, no polling, no threads, no locking.</p>
      </div>
      <div class="arch-detail">
        <div class="arch-detail-label">Multi-attach</div>
        <p>Up to 16 simultaneous clients per session. Window resize propagates via SIGWINCH.</p>
      </div>
    </div>
  </div>
</section>

<!-- Usage -->
<section id="usage">
  <div class="container">
    <div class="fade-in">
      <div class="section-label">// usage</div>
      <h2 class="section-title">Simple by design</h2>
    </div>

    <div class="usage-grid">
      <div class="terminal fade-in" style="transition-delay: 0.1s;">
        <div class="terminal-chrome">
          <div class="terminal-dot red"></div>
          <div class="terminal-dot yellow"></div>
          <div class="terminal-dot green"></div>
          <div class="terminal-title">ghostly-session</div>
        </div>
        <div class="terminal-body">
<span class="prompt">$ </span><span class="cmd">ghostly-session open mywork</span>
<span class="output">creating session 'mywork'... attached (ctrl+\ to detach)</span>

<span class="prompt">$ </span><span class="cmd">ghostly-session list --json</span>
<span class="output">{</span>
<span class="output">  <span class="key">"sessions"</span>: [{</span>
<span class="output">    <span class="key">"name"</span>: <span class="string">"mywork"</span>,</span>
<span class="output">    <span class="key">"clients"</span>: <span class="number">1</span>,</span>
<span class="output">    <span class="key">"created"</span>: <span class="string">"2025-02-02T18:13:20Z"</span></span>
<span class="output">  }]</span>
<span class="output">}</span>

<span class="prompt">$ </span><span class="cmd">ghostly-session info --json</span>
<span class="output">{</span>
<span class="output">  <span class="key">"user"</span>: <span class="string">"you"</span>,</span>
<span class="output">  <span class="key">"load"</span>: <span class="string">"0.45"</span>,</span>
<span class="output">  <span class="key">"disk"</span>: <span class="string">"67%"</span>,</span>
<span class="output">  <span class="key">"conda"</span>: <span class="string">"base"</span>,</span>
<span class="output">  <span class="key">"sessions"</span>: <span class="number">2</span></span>
<span class="output">}</span>

<span class="prompt">$ </span><span class="cursor"></span>
        </div>
      </div>

      <!-- Comparison -->
      <div class="comparison fade-in" style="transition-delay: 0.2s;">
        <table>
          <thead>
            <tr>
              <th></th>
              <th>ghostly-session</th>
              <th>tmux</th>
              <th>screen</th>
            </tr>
          </thead>
          <tbody>
            <tr class="highlight-row">
              <td>Zero dependencies</td>
              <td class="yes">&#10003;</td>
              <td class="no">&mdash;</td>
              <td class="no">&mdash;</td>
            </tr>
            <tr class="highlight-row">
              <td>Auto-install via SSH</td>
              <td class="yes">&#10003;</td>
              <td class="no">&mdash;</td>
              <td class="no">&mdash;</td>
            </tr>
            <tr class="highlight-row">
              <td>JSON API</td>
              <td class="yes">&#10003;</td>
              <td class="no">&mdash;</td>
              <td class="no">&mdash;</td>
            </tr>
            <tr class="highlight-row">
              <td>System info</td>
              <td class="yes">&#10003;</td>
              <td class="no">&mdash;</td>
              <td class="no">&mdash;</td>
            </tr>
            <tr>
              <td>Multi-attach</td>
              <td class="yes">&#10003; (16)</td>
              <td class="yes">&#10003;</td>
              <td class="yes">&#10003;</td>
            </tr>
            <tr>
              <td>Single binary</td>
              <td class="yes">&#10003;</td>
              <td class="no">&mdash;</td>
              <td class="no">&mdash;</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="footer-links">
      <a href="https://github.com/genomewalker/ghostly">source</a>
      <a href="https://github.com/genomewalker/ghostly/tree/main/ghostly-session">ghostly-session</a>
      <a href="https://github.com/genomewalker/ghostly/issues">issues</a>
    </div>
    <div class="footer-credits">
      ghostly &mdash; persistent ssh sessions from your menu bar
    </div>
  </div>
</footer>

<script>
// Copy install command
function copyInstall() {
  const cmd = document.getElementById('installCmd').textContent;
  const btn = document.getElementById('copyBtn');

  navigator.clipboard.writeText(cmd).then(() => {
    btn.textContent = '\u2713 copied';
    btn.classList.add('copied');
    setTimeout(() => {
      btn.textContent = 'copy';
      btn.classList.remove('copied');
    }, 2000);
  });
}

// Intersection observer for fade-in
const observer = new IntersectionObserver(
  (entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  },
  { threshold: 0.1, rootMargin: '0px 0px -40px 0px' }
);

document.querySelectorAll('.fade-in').forEach((el) => observer.observe(el));
</script>

</body>
</html>
